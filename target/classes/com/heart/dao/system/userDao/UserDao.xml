<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heart.dao.system.userDao.UserDao">

    <select id="loadUserByAccount" resultType="com.heart.dto.system.user.UserDto">
        select u.userid,u.account,u.username,u.password,u.age,u.roleid from user_t as u where u.account = #{account}
    </select>

    <select id="loadUserList" parameterType="com.heart.dto.system.user.UserDto" resultType="com.heart.dto.system.user.UserDto">
        select u.userid,u.account,u.username,u.password,u.age,u.roleid from user_t as u where 1=1
            <if test="null != account and ''!=account">and u.account = #{account}</if>
        order by u.userid desc
    </select>

    <insert id="addUser" parameterType="com.heart.dto.system.user.UserDto">
        insert into user_t(account,username,password,age,roleid) values(#{account},#{name},#{passwd},#{age},#{roleid})
    </insert>

    <delete id="deleteUserByAccount">
        delete from user_t as u where u.account = #{account}
    </delete>

    <update id="updateUser" parameterType="com.heart.dto.system.user.UserDto">
        update user_t set username = #{name},password = #{passwd},age = #{age},roleid = {roleid} where account = {account}
    </update>

</mapper>